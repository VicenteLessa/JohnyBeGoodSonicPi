use_bpm 170

define :vocalsVerse13 do
  sleep 3.5
  play :D6
  sleep 0.5
  
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  
  play :Eb6
  sleep 0.5
  play :D6
  sleep 1
  play :F6
  sleep 2
  play :D6
  sleep 0.5
  
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :D6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :Bb5
  sleep 2
  play :D6
  sleep 0.5
  
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  play :Eb6
  sleep 1
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  
  play :Eb6
  sleep 1
  play :D6
  sleep 0.5
  play :F6
  sleep 0.5
  sleep 1.5
  play :D6
  sleep 0.5
  
  play :F6
  sleep 0.5
  play :D6
  sleep 0.5
  play :F6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :E6
  sleep 0.5
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :Eb6
  sleep 0.5
  
  play :F6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  play :Bb5
  sleep 2
  play :D6
  sleep 0.5
  
  play :F6
  sleep 0.5
  play :D6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  
  play :Eb6
  sleep 1
  play :D6
  sleep 0.5
  play :F6
  sleep 1
  play :Bb5
  sleep 0.5
  play :D6
  sleep 0.5
  play :Eb6
  sleep 0.5
  
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :F6
  sleep 1
  play :F6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  play :D6
  sleep 0.5
  play :Bb5
  sleep 1
  play :F6
  sleep 1
  play :F6
  sleep 1
end

#comeca no tempo 0.5 pois ja estava tocando o fa!
define :vocalsChorus12 do
  4.times do
    sleep 3
    play :F6
    sleep 1.5
    play :Eb6
    sleep 0.5
    play :D6
    sleep 0.5
    play :F6
    sleep 1
    sleep 0.5
    play :F6
    sleep 1
  end
  sleep 5.5
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  play :Db6
  sleep 0.25
  play :D6
  sleep 0.25
  play :Bb5
  sleep 1.5
  sleep 3
end

define :vocalsVerse2 do
  sleep 2.5
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :F6
  sleep 1
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  
  play :Eb6
  sleep 0.5
  play :D6
  sleep 1
  play :F6
  sleep 1
  sleep 1
  play :D6
  sleep 0.5
  
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :F6
  sleep 0.5
  play :F6
  sleep 1
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :Bb5
  sleep 1
  play :E6
  sleep 0.25
  play :F6
  sleep 0.75
  play :Eb6
  sleep 1
  
  play :Eb6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  
  play :Eb6
  sleep 0.5
  play :D6
  sleep 1
  play :Eb6
  sleep 0.25
  play :F6
  sleep 1.25
  sleep 1
  
  play :F6
  sleep 0.5
  play :D6
  sleep 0.5
  play :F6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :F6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :F6
  sleep 0.5
  play :Eb6
  sleep 0.5
  
  play :Eb6
  sleep 0.5
  play :F6
  sleep 0.5
  play :D6
  sleep 0.5
  play :Bb5
  sleep 1.5
  sleep 1
  
  play :F6
  sleep 0.5
  play :D6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  play :Eb6
  sleep 1
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  
  play :Eb6
  sleep 1
  play :D6
  sleep 0.5
  play :F6
  sleep 1
  play :F6
  sleep 1
  play :F6
  sleep 1
  
  play :F6
  sleep 0.5
  play :F6
  sleep 1
  play :F6
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :F6
  sleep 0.5
  play :D6
  sleep 0.5
  
  play :Eb6
  sleep 0.5
  play :F6
  sleep 0.5
  play :D6
  sleep 0.5
  play :Bb5
  sleep 1
  play :F6
  sleep 1
  play :F6
  sleep 1
end

define :vocalsChorus3 do
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  play :F6
  sleep 1
  
  sleep 2.5
  play :F6
  sleep 1
  play :F6
  sleep 1
  play :F6
  sleep 1
  
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  play :F6
  sleep 1
  
  sleep 2.5
  play :G6
  sleep 1
  play :D6
  sleep 1
  play :D6
  sleep 1
  
  sleep 0.5
  play :Bb5
  sleep 0.5
  play :Bb5
  sleep 0.5
  play :Bb5
  sleep 0.5
  
  sleep 2.5
  play :G6
  sleep 1
  play :D6
  sleep 1
  play :F6
  sleep 1
  
  sleep 0.5
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  play :F6
  sleep 1
  sleep 1
  
  sleep 3.5
  play :F6
  sleep 1
  sleep 5.5
  play :Eb6
  sleep 0.5
  play :D6
  sleep 0.5
  play :Bb5
  sleep 0.5
  play :Bb5
  sleep 0.5
end

define :vocals do
  use_synth :dtri
  12.times do
    sleep 4
  end
  
  vocalsVerse13
  vocalsChorus12
  vocalsVerse2
  vocalsChorus12
  24.times do
    sleep 4
  end
  vocalsVerse13
  vocalsChorus3
end

define :batera_intro do
  sleep 4
  sleep 4
  sleep 4
  sample :drum_heavy_kick
  sample :drum_snare_hard
  sleep 4
  sleep 3
  sample :drum_heavy_kick
  sample :drum_snare_hard
  sleep 1
end

define :batera_tu_ta do
  sample :drum_heavy_kick
  sample :drum_cymbal_closed
  sleep 0.5
  sample :drum_cymbal_closed
  sleep 0.5
  sample :drum_snare_hard
  sample :drum_cymbal_closed
  sleep 0.5
  sample :drum_cymbal_closed
  sleep 0.5
  sample :drum_heavy_kick
  sample :drum_cymbal_closed
  sleep 0.5
  sample :drum_cymbal_closed
  sleep 0.5
  sample :drum_snare_hard
  sample :drum_cymbal_closed
  sleep 0.5
  sample :drum_cymbal_closed
  sleep 0.5
end

define :batera_solo do
  sample :drum_heavy_kick
  sample :drum_snare_hard
  sleep 4
  sample :drum_heavy_kick
  sample :drum_snare_hard
  sleep 4
  sample :drum_heavy_kick
  sample :drum_snare_hard
  sleep 2
  sample :drum_heavy_kick
  sample :drum_snare_hard
  sleep 2
  sample :drum_heavy_kick
  sample :drum_snare_hard
  sleep 1
  sample :drum_heavy_kick
  sample :drum_snare_hard
  sleep 1
  sample :drum_heavy_kick
  sample :drum_snare_hard
  sleep 1
  sample :drum_heavy_kick
  sample :drum_snare_hard
  sleep 0.5
  sample :drum_snare_hard
  sleep 0.25
  sample :drum_snare_hard
  sleep 0.25
end

define :batera do
  1.times do
    batera_intro
  end
  
  56.times do
    batera_tu_ta
  end
  
  1.times do
    batera_solo
  end
  
  8.times do
    batera_tu_ta
  end
  
  1.times do
    batera_solo
  end
  
  8.times do
    batera_tu_ta
  end
  
  22.times do
    batera_tu_ta
  end
  
  use_bpm 120
  sample :drum_heavy_kick
  sample :drum_cymbal_closed
  sleep 0.5
  sample :drum_cymbal_closed
  sleep 0.5
  sample :drum_snare_hard
  sample :drum_cymbal_closed
  sleep 0.5
  sample :drum_cymbal_closed
  sleep 0.5
  sample :drum_heavy_kick
  sample :drum_cymbal_closed
  sleep 0.5
  sample :drum_cymbal_closed
  sleep 0.5
  sample :drum_snare_hard
  sample :drum_cymbal_closed
  sleep 0.5
  sample :drum_cymbal_closed
  sleep 0.5
  
  sample :drum_heavy_kick
  sample :drum_cymbal_closed
  sleep 0.5
  sample :drum_cymbal_closed
  sleep 0.5
  sample :drum_snare_hard
  sample :drum_cymbal_closed
  sleep 0.5
  sample :drum_cymbal_closed
  sample :drum_heavy_kick
  sleep 1.5
  sample :drum_cymbal_closed
  sleep 0.5
  sample :drum_cymbal_open
end

define :introdutionalSolo do
  use_synth :dsaw
  sleep 2.5
  
  s = play :Db4, note_slide: 1
  sleep 0.25
  control s, note: :D4
  sleep 0.25
  play :F4
  sleep 0.5
  play :G4
  sleep 0.5
  
  3.times do
    s2 = play :E4, note_slide: 1
    s1 = play :A4, note_slide: 1
    sleep 0.25
    control s2, note: :F4
    control s1, note: :Bb4
    sleep 0.25
    play :F4
    play :Bb4
    sleep 0.5
    play :F4
    play :Bb4
    sleep 0.5
  end
  
  play :Ab4
  sleep 0.5
  play :G4
  sleep 0.5
  play :Bb4
  sleep 0.5
  play :D4
  sleep 0.5
  play :Eb4
  sleep 0.5
  play :Bb3
  sleep 0.5
  play :Bb3
  sleep 0.5
  
  8.times do
    play :Bb3
    play :F3
    sleep 0.5
  end
  
  s = play :D4, note_slide: 0.5
  sleep 0.25
  control s, note: :Eb4
  sleep 0.25
  
  play :Bb4
  play :Eb4
  sleep 0.5
  play :G4
  play :Eb4
  sleep 0.5
  play :Bb4
  play :Eb4
  sleep 0.5
  s = play :Eb4, note_slide: 0.5
  sleep 0.5
  control s, note: :C4
  sleep 0.5
  play :Bb3
  sleep 0.5
  play :G3
  sleep 0.5
  
  11.times do
    tick
    s = play :Eb4, note_slide: 0.125
    sleep 0.125
    control s, note: :E4
    sleep 0.125
    control s, note: :F4
    sleep 0.25
    kill s
    sleep 0.5
    play :F4 if (ring 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1).look == 1
    play :Bb4 if (ring 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0).look == 1
    play :F4, sustain: 0.6, decay: 0.4 if (ring 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0).look == 1
    play :Bb4, sustain: 0.6, decay: 0.4 if (ring 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0).look == 1
    sleep 0.5 if (ring 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1).look == 1
    sleep 1 if (ring 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0).look == 1
  end
  
  play :Bb4
  sleep 0.5
  play :Ab4
  sleep 0.5
  play :G4
  sleep 0.5
  play :F4
  sleep 0.5
  play :C5
  sleep 0.5
  play :Bb4
  sleep 0.5
  play :Ab4
  sleep 0.5
  play :G4
  sleep 0.5
  play :F4
  sleep 0.5
  
  s = play :Db4, note_slide: 0.5
  sleep 0.25
  control s, note: :D4
  sleep 0.25
  play :Eb4
  sleep 0.5
  play :D4
  sleep 0.25
  play :F4
  sleep 0.25
  play :Bb4
  sleep 0.5
  play :Ab4
  sleep 0.5
  play :G4
  sleep 0.5
  play :F4
  sleep 0.5
  
  2.times do
    s = play :Eb4, note_slide: 0.125
    sleep 0.125
    control s, note: :E4
    sleep 0.125
    control s, note: :F4
    sleep 0.25
    kill s
    play :F4
    sleep 0.5
  end
  
  play :D4
  sleep 0.5
  play :Eb4
  sleep 0.25
  s = play :D4, note_slide: 0.25
  sleep 0.25
  control s, note: :Bb3
  sleep 1
  
end

define :finalRefraoSolo do
  play :E4, sustain: 0.45, decay: 0.05
  sleep 0.5
  play :E4, amp: 0.5
  sleep 0.5
  play :Eb4
  sleep 0.5
  sleep 2.5
end

define :refraoSolo do
  
  5.times do
    tick
    sleep 0.5
    s1 = play :G4, note_slide: 0.25
    s2 = play :E4, note_slide: 0.25
    sleep 0.25
    control s1, note: :Ab4
    control s2, note: :F4
    sleep 0.25
    kill s1
    kill s2
    
    3.times do
      play :Ab4
      play :F4
      sleep 0.5
    end
    play :Bb4, sustain: 0.6, decay: 0.4
    play :F4, sustain: 0.6, decay: 0.4
    sleep 1.5
    
    sleep 4 if (ring 1, 1, 1, 1, 0).look == 1
    finalRefraoSolo if (ring 0, 0, 0, 0, 1).look == 1
    
  end
end

define :rythmGuitar1 do |n|
  n.times do
    play :Bb4
    play :Eb4
    sleep 0.5
    play :Bb4
    play :Eb4
    sleep 0.5
    play :C5
    play :Eb4
    sleep 0.5
    play :Bb4
    play :Eb4
    sleep 0.5
  end
end

define :rythmGuitar2 do |n|
  n.times do
    play :F4
    play :Bb3
    sleep 0.5
    play :F4
    play :Bb3
    sleep 0.5
    play :G4
    play :Bb3
    sleep 0.5
    play :F4
    play :Bb3
    sleep 0.5
  end
end

define :rythmGuitar3 do |n|
  n.times do
    play :C5
    play :F4
    sleep 0.5
    play :C5
    play :F4
    sleep 0.5
    play :D5
    play :F4
    sleep 0.5
    play :C5
    play :F4
    sleep 0.5
  end
end

define :chordRythm do |n, s|
  n.times do
    play :Bb4
    play :F4
    play :Bb3
    sleep s
  end
end

define :rythmGuitar do
  use_synth :fm
  
  3.times do
    sleep 4
  end
  
  play :Bb4, sustain: 3, decay: 1
  play :F5, sustain: 3, decay: 1
  play :Bb5, sustain: 3, decay: 1
  
  2.times do
    sleep 4
  end
  
  4.times do
    rythmGuitar1 4
    rythmGuitar2 4
    rythmGuitar3 4
    rythmGuitar2 12
  end
  
  2.times do
    rythmGuitar1 4
    rythmGuitar2 4
    rythmGuitar3 4
    rythmGuitar2 4
    
    chordRythm 2, 4
    chordRythm 2, 2
    chordRythm 4, 1
  end
  
  2.times do
    rythmGuitar1 4
    rythmGuitar2 4
    rythmGuitar3 4
    rythmGuitar2 12
  end
  
  rythmGuitar1 4
  rythmGuitar2 4
  rythmGuitar3 4
  
  use_bpm 120
  
  2.times do
    play :F4
    play :Bb3
    sleep 0.5
    play :F4
    play :Bb3
    sleep 0.5
    play :G4
    play :Bb3
    sleep 0.5
    play :F4
    play :Bb3
    sleep 0.5
  end
  
  play :F4
  play :Bb3
  sleep 0.5
  play :F4
  play :Bb3
  sleep 0.5
  play :G4
  play :Bb3
  sleep 0.5
  play :F4, sustain: 3, decay: 1
  play :Bb3, sustain: 3, decay: 1
  sleep 0.5
end

use_bpm 170


define :bassStep1 do |n|
  n.times do
    play :Eb3
    sleep 1
    play :G3
    sleep 1
    play :Bb3
    sleep 1
    play :C4
    sleep 1
    play :Eb4
    sleep 1
    play :C4
    sleep 1
    play :Bb3
    sleep 1
    play :G3
    sleep 1
  end
end

define :bassStep2 do |n|
  n.times do
    play :Bb2
    sleep 1
    play :D3
    sleep 1
    play :F3
    sleep 1
    play :G3
    sleep 1
    play :Bb3
    sleep 1
    play :G3
    sleep 1
    play :F3
    sleep 1
    play :D3
    sleep 1
  end
end

define :bassStep3 do |n|
  n.times do
    play :F3
    sleep 1
    play :A3
    sleep 1
    play :C4
    sleep 1
    play :D4
    sleep 1
    play :F4
    sleep 1
    play :D4
    sleep 1
    play :C4
    sleep 1
    play :A3
    sleep 1
  end
end

define :bassSolo do |n|
  
  n.times do
    bassStep1 1
    bassStep2 1
    bassStep3 1
    bassStep2 1
    
    2.times do
      play :Bb2, sustain: 3, release: 1
      sleep 4
    end
    
    2.times do
      play :Bb2, sustain: 1.5, release: 0.5
      sleep 2
    end
    
    4.times do
      play :Bb2
      sleep 1
    end
  end
end

define :bass do
  use_synth :fm
  
  3.times do
    sleep 4
  end
  
  play :Bb2, sustain: 3, release: 1
  
  2.times do
    sleep 4
  end
  
  4.times do
    bassStep1 1
    bassStep2 1
    bassStep3 1
    bassStep2 3
  end
  
  bassSolo 2
  
  2.times do
    bassStep1 1
    bassStep2 1
    bassStep3 1
    bassStep2 3
  end
  
  bassStep1 1
  bassStep2 1
  bassStep3 1
  
  use_bpm 120
  play :Bb2
  sleep 1
  play :D3
  sleep 1
  play :F3
  sleep 1
  play :G3
  sleep 1
  play :Bb3
  sleep 1
  play :G3
  sleep 1
  play :F3
  sleep 1
  play :D3
  sleep 0.5
  play :D3
  sleep 0.5
  play :Bb2, sustain: 3, release: 1
  sleep 4
  
end

live_loop :drum do
  batera
end

live_loop :vocal do
  vocals
end

live_loop :solo do
  introdutionalSolo
  sleep 3
  12.times do
    sleep 4
  end
  refraoSolo
  14.times do
    sleep 4
  end
  refraoSolo
  38.times do
    sleep 4
  end
  refraoSolo
  sleep 800
end

live_loop :bass do
  bass
end

live_loop :guitarRythm do
  rythmGuitar
end

live_loop :mainSolo do
    60.times do
    sleep 4
  end
  mainSolo
end

